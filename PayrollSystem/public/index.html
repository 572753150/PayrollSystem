<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head id="head">
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="stylesheets/style.css">
    <link href="stylesheets/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:700" rel="stylesheet">
    <script src="javascripts/jquery.min.js"></script>
    <script src="javascripts/bootstrap.min.js"></script>
    <script src="javascripts/angular.js"></script>
    <script src="javascripts/myJs.js"></script>



    <title></title>
</head>
<body>
<div class="container" ng-app="myApp">
    <!--The login page -->
    <div id="login" style="text-align: center;align-self: center">
        <div class="things-title">Payroll System</div>
        <form id="login-form" style="width: 50%;margin-left: 25%;background:transparent;">
            <div>
                <div>
                    <div class="form-group">
                        <label for="username" class="sr-only">Username</label>
                        <input type="email" class="form-control" id="username" placeholder="username">
                    </div>
                    <div class="form-group">
                        <label for="password" class="sr-only">Password</label>
                        <input type="password" class="form-control" id="password" placeholder="password">
                    </div>
                </div>
                <button type="submit" onclick="login(event)" class="btn btn-primary btn-sm">Login
                    <i class="glyphicon glyphicon-chevron-right"></i>
                </button>
            </div>
        </form>
    </div>

    <div id="content">
        <div class="page-header">
            <h1>
                Payroll System
                <small id="showUser" class="pull-right">Email</small>
            </h1>
        </div>
        <div>

            <!-- Nav tabs -->
            <ul class="nav nav-pills" role="tablist">
                <li role="presentation" class="active"><a href="#myAccount" aria-controls="myAccount" role="tab"
                                                          data-toggle="tab">My Account</a></li>
                <li role="presentation" id="hireTab"><a href="#hire" aria-controls="hire" role="tab" data-toggle="tab">Hire
                    Employee</a></li>
                <li role="presentation" id="updateTab"><a href="#update" aria-controls="update" role="tab"
                                                          data-toggle="tab">Update Account</a></li>
                <li role="presentation" id="createProjectTab"><a href="#createProject" aria-controls="createProject"
                                                                 role="tab"
                                                                 data-toggle="tab">Create Project</a></li>
                <li role="presentation" id="allocateProjectTab" ng-controller="allocateProjectCT" ng-click="allocateProject()"><a href="#allocateProject" aria-controls="allocateProject"
                                                                 role="tab"
                                                                 data-toggle="tab">Allocate Project</a></li>
                <li role="presentation"><a href="index.html" onclick="logout(event)">Log Out</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">

                <!--view account-->
                <div role="tabpanel" class="tab-pane active" id="myAccount">
                    <br>
                    <div class="well well-sm">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="col-sm-1 control-label text-left">name：</label>
                                <label class="col-sm-11 control-label text-left" id="label_name"></label>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-1 control-label text-left">Birthday：</label>
                                <label class="col-sm-11 control-label text-left" id="label_birthday"></label>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-1 control-label text-left">Rank：</label>
                                <label class="col-sm-11 control-label text-left" id="label_rank"></label>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-1 control-label text-left">Department：</label>
                                <label class="col-sm-11 control-label text-left" id="label_department"></label>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-1 control-label text-left">Superior：</label>
                                <label class="col-sm-11 control-label text-left " id="label_superior"></label>
                            </div>


                        </div>


                    </div>
                    <br>

                    <div class="well well-sm">
                        <div class="form-inline">
                            <input type="date" class="form-control input-lg" id="salryDateForSewarch"
                                   style="width: 90%">
                            <button type="submit" class="btn btn-primary btn-lg pull-right" onclick="searchSalary()">
                                Search
                            </button>
                        </div>
                        <table id="table" class="table table-condensed "></table>
                    </div>

                </div>

                <!--hire Employee-->

                <div role="tabpanel" class="tab-pane" id="hire">
                    <br>
                    <div class="well well-sm ">
                        <form class="form-horizontal" id="form_new_employee">
                            <div class="form-group">
                                <label for="email" class="col-sm-2 control-label text-left">Email：</label>
                                <div class="col-sm-10 ">
                                    <input class="form-control empty" type="email" id="email" placeholder="Email">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="setPassword" class="col-sm-2 control-label text-left">Set Password：</label>
                                <div class="col-sm-10 ">
                                    <input class="form-control empty" id="setPassword" type="text"
                                           placeholder="Password">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="firstName" class="col-sm-2 control-label text-left">First name：</label>
                                <div class="col-sm-10 ">
                                    <input class="form-control empty" id="firstName" type="text"
                                           placeholder="First name">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="lastName" class="col-sm-2 control-label text-left">Last name：</label>
                                <div class="col-sm-10 ">
                                    <input class="form-control empty" id="lastName" placeholder="Last name">
                                </div>
                            </div>


                            <div class="form-group">
                                <label for="birthday" class="col-sm-2 control-label text-left">Birthday：</label>
                                <div class="col-sm-10 ">
                                    <input type="date" id="birthday" placeholder="basic_salary"
                                           class="form-control empty">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="hiredate" class="col-sm-2 control-label text-left">Hire Date：</label>
                                <div class="col-sm-10 ">
                                    <input type="date" id="hiredate" placeholder="basic_salary"
                                           class="form-control empty">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="basic_salary" class="col-sm-2 control-label text-left">Annually Salary
                                    ($)：</label>
                                <div class="col-sm-10 ">
                                    <input class="form-control empty" id="basic_salary" placeholder="Annually Salary">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="rank" class="col-sm-2 control-label text-left">Rank：</label>
                                <div class="col-sm-10">
                                    <select id="rank" class="form-control empty2">
                                        <option selected>admin</option>
                                        <option>manager</option>
                                        <option>developer</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="sex" class="col-sm-2 control-label text-left">Sex：</label>
                                <div class="col-sm-10">
                                    <select id="sex" class="form-control empty2">
                                        <option selected>male</option>
                                        <option>female</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="Superior" class="col-sm-2 control-label text-left">Superior：</label>
                                <div class="col-sm-10">
                                    <select id="superior" class="form-control empty2 superior">
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="department" class="col-sm-2 control-label text-left">Department：</label>
                                <div class="col-sm-10">
                                    <select id="department" multiple class="form-control empty">
                                        <option>IT</option>
                                        <option>Market</option>
                                        <option>Mobile Development</option>
                                        <option>Data Application</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" id="submit" class="btn btn-primary"
                                            onclick="hireEmplyee(event)">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

<!-------------------------------------------------------update account---------------------------------------------------------------------------------->
                <div role="tabpanel" class="tab-pane" id="update">
                    <br>
                    <div class="form-inline">
                        <input type="email" class="form-control input-lg" id="searchContent" placeholder="Email"
                               style="width: 90%">
                        <button type="submit" class="btn btn-primary btn-lg pull-right" onclick="search()">Search
                        </button>
                    </div>
                    <br>
                    <table id="account_table" class="table table-condensed table-bordered table-hover"></table>
                    <div id="accountModal">
                        <div class="well well-sm">
                            <form class="form-horizontal" style="margin-top: 1em;">

                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Email：</label>
                                    <label class="col-sm-10 control-label text-left" id="emailmodal"></label>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">name：</label>
                                    <label class="col-sm-10 control-label text-left" id="namemodal"></label>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Former Salry：</label>
                                    <label class="col-sm-10 control-label text-left" id="salarymodal"></label>
                                </div>
                                <div class="form-group">
                                    <label for="add_salry" class="col-sm-2 control-label">New Salary：</label>
                                    <div class="col-sm-10">
                                        <input type="text" id="add_salry" placeholder="New Salary"
                                               class="form-control">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="promotiondate" class="col-sm-2 control-label text-left">Promotion
                                        Date：</label>
                                    <div class="col-sm-10 ">
                                        <input type="date" id="promotiondate" placeholder="basic_salary"
                                               class="form-control empty">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="rankmodal" class="col-sm-2 control-label ">Rank：</label>
                                    <div class="col-sm-10">
                                        <select id="rankmodal" class="form-control empty2">
                                            <option selected>admin</option>
                                            <option>manager</option>
                                            <option>developer</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="superiormodal"
                                           class="col-sm-2 control-label ">Superior：</label>
                                    <div class="col-sm-10">
                                        <select id="superiormodal" class="form-control  superior empty2">
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="departmentmodal"
                                           class="col-sm-2 control-label ">Department：</label>
                                    <div class="col-sm-10">
                                        <select id="departmentmodal" multiple class="form-control empty">
                                            <option>IT</option>
                                            <option>Market</option>
                                            <option>Service</option>
                                        </select>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label for="fireDateModal" class="col-sm-2 control-label">Fire
                                        Date：</label>
                                    <div class="col-sm-10 ">
                                        <input type="date" id="fireDateModal" class="form-control empty">
                                    </div>
                                </div>

                                <div style="margin-top: 1em;overflow:auto">
                                    <span onclick="updateEmployee()"
                                          class="btn btn-sm btn-primary  pull-left">Update</span>
                                    <span onclick="cancel()" class="btn btn-sm btn-warning pull-right">Cancel</span>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
<!-------------------------------------------------------create project--------------------------------------------------------------------->
                <div role="tabpanel" class="tab-pane" id="createProject" ng-controller="createProjectCT">
                    <br>
                    <div class="well well-sm " >
                        <form class="form-horizontal"  name="projectForm">
                            <div class="form-group">
                                <label  class="col-sm-2 control-label text-left">Project Name:</label>
                                <div class="col-sm-10 ">
                                    <input class="form-control empty" ng-model="project.name" placeholder="Project Name" name="name" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label  class="col-sm-2 control-label text-left">Start date:</label>
                                <div class="col-sm-10 ">
                                    <input class="form-control empty" type="date" ng-model="project.start"  name="start" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label  class="col-sm-2 control-label text-left">End date:</label>
                                <div class="col-sm-10 ">
                                    <input class="form-control empty" type="date" ng-model="project.end" name="end" placeholder="End Date" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label text-left">Department：</label>
                                <div class="col-sm-10">
                                    <select multiple class="form-control empty" ng-model="project.department"  name="department"required>
                                        <option>IT</option>
                                        <option>Market</option>
                                        <option>Mobile Development</option>
                                        <option>Data Application</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10 ">
                                    <button  ng-disabled="projectForm.name.$invalid||projectForm.start.$invalid||projectForm.end.$invalid||projectForm.department.$invalid"  type="submit" class="btn btn-primary" ng-click="createProject()">Submit</button>
                                </div>
                            </div>
                        </form>

                        <div>
                            p={{project}}
                        </div>


                    </div>
                </div>
<!-------------------------------------------------------allocate project---------------------------------------------------------------------------------------------------->
                <div role="tabpanel" class="tab-pane" id="allocateProject" ng-controller="allocateProjectCT">
                    <br>
                    <p>aa={{projects}}</p>
                    <table ng-hide="hideTablePart" class="table table-condensed  table-hover">
                        <thead><td>Name</td><td>Start</td><td>End</td> <td></td></thead>
                        <tr ng-repeat="project in projects">
                            <td>{{ project.name }}</td>
                            <td>{{ project.start }}</td>
                            <td>{{ project.end }}</td>
                            <td><button class="btn btn-primary" ng-click="updateProject()">Update</button></td>
                        </tr>
                    </table>
                    <div ng-show="showUpdatePart">
                        <div class="well well-sm">
                            <form class="form-horizontal" style="margin-top: 1em;">


                                <div class="form-group">
                                    <label
                                           class="col-sm-2 control-label ">Employee：</label>
                                    <div class="col-sm-10">
                                        <select  multiple class="form-control empty" ng-model="project.employees"  ng-options="x.first for x in employees">
                                        </select>
                                    </div>
                                </div>



                                <div style="margin-top: 1em;overflow:auto">
                                    <span onclick="updateEmployee()"
                                          class="btn btn-sm btn-primary  pull-left">Update</span>
                                    <span onclick="cancel()" class="btn btn-sm btn-warning pull-right">Cancel</span>
                                </div>
                            </form>
                        </div>
                    </div>


                </div>
<!---------------------------------------------------------------------------------------------------------------------------------------------->
            </div>


        </div>
    </div>
</div>

</body>
</html>